{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/pierremarieriviere/Code/solidly-master/pages/_app.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Head from 'next/head';\nimport Layout from '../components/layout/layout.js';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { useRouter } from 'next/router';\nimport lightTheme from '../theme/light';\nimport darkTheme from '../theme/dark';\nimport Configure from './configure';\nimport stores from '../stores/index.js';\nimport { ACTIONS } from '../stores/constants';\nimport '../styles/global.css';\nexport default function MyApp({\n  Component,\n  pageProps\n}) {\n  const router = useRouter();\n  const {\n    0: themeConfig,\n    1: setThemeConfig\n  } = useState(darkTheme);\n  const {\n    0: stalbeSwapConfigured,\n    1: setStableSwapConfigured\n  } = useState(false);\n  const {\n    0: accountConfigured,\n    1: setAccountConfigured\n  } = useState(false);\n  useEffect(() => {\n    // Remove the server-side injected CSS.\n    const jssStyles = document.querySelector('#jss-server-side');\n\n    if (jssStyles) {\n      jssStyles.parentElement.removeChild(jssStyles);\n    }\n  }, []);\n\n  const changeTheme = dark => {// setThemeConfig(dark ? darkTheme : lightTheme);\n    // localStorage.setItem('yearn.finance-dark-mode', dark ? 'dark' : 'light');\n  };\n\n  const accountConfigureReturned = () => {\n    setAccountConfigured(true);\n  };\n\n  const stalbeSwapConfigureReturned = () => {\n    setStableSwapConfigured(true);\n  };\n\n  useEffect(function () {\n    const localStorageDarkMode = window.localStorage.getItem('yearn.finance-dark-mode');\n    changeTheme(localStorageDarkMode ? localStorageDarkMode === 'dark' : false);\n  }, []);\n  useEffect(function () {\n    stores.emitter.on(ACTIONS.CONFIGURED_SS, stalbeSwapConfigureReturned);\n    stores.emitter.on(ACTIONS.ACCOUNT_CONFIGURED, accountConfigureReturned);\n    stores.dispatcher.dispatch({\n      type: ACTIONS.CONFIGURE\n    });\n    return () => {\n      stores.emitter.removeListener(ACTIONS.CONFIGURED_SS, stalbeSwapConfigureReturned);\n      stores.emitter.removeListener(ACTIONS.ACCOUNT_CONFIGURED, accountConfigureReturned);\n    };\n  }, []);\n\n  const validateConfigured = () => {\n    switch (router.pathname) {\n      case '/':\n        return accountConfigured;\n\n      default:\n        return accountConfigured;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Solidly\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"viewport\",\n        content: \"minimum-scale=1, initial-scale=1, width=device-width\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ThemeProvider, {\n      theme: themeConfig,\n      children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), validateConfigured() && /*#__PURE__*/_jsxDEV(Layout, {\n        changeTheme: changeTheme,\n        children: /*#__PURE__*/_jsxDEV(Component, _objectSpread(_objectSpread({}, pageProps), {}, {\n          changeTheme: changeTheme\n        }), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), !validateConfigured() && /*#__PURE__*/_jsxDEV(Configure, _objectSpread({}, pageProps), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 35\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\nMyApp.propTypes = {\n  Component: PropTypes.elementType.isRequired,\n  pageProps: PropTypes.object.isRequired\n};","map":{"version":3,"sources":["/Users/pierremarieriviere/Code/solidly-master/pages/_app.js"],"names":["React","useState","useEffect","PropTypes","Head","Layout","ThemeProvider","CssBaseline","useRouter","lightTheme","darkTheme","Configure","stores","ACTIONS","MyApp","Component","pageProps","router","themeConfig","setThemeConfig","stalbeSwapConfigured","setStableSwapConfigured","accountConfigured","setAccountConfigured","jssStyles","document","querySelector","parentElement","removeChild","changeTheme","dark","accountConfigureReturned","stalbeSwapConfigureReturned","localStorageDarkMode","window","localStorage","getItem","emitter","on","CONFIGURED_SS","ACCOUNT_CONFIGURED","dispatcher","dispatch","type","CONFIGURE","removeListener","validateConfigured","pathname","propTypes","elementType","isRequired","object"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Head from 'next/head';\nimport Layout from '../components/layout/layout.js';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { useRouter } from 'next/router';\n\nimport lightTheme from '../theme/light';\nimport darkTheme from '../theme/dark';\n\nimport Configure from './configure';\n\nimport stores from '../stores/index.js';\n\nimport { ACTIONS } from '../stores/constants';\nimport '../styles/global.css'\n\nexport default function MyApp({ Component, pageProps }) {\n  const router = useRouter();\n\n  const [themeConfig, setThemeConfig] = useState(darkTheme);\n  const [stalbeSwapConfigured, setStableSwapConfigured] = useState(false);\n  const [accountConfigured, setAccountConfigured] = useState(false);\n\n  useEffect(() => {\n    // Remove the server-side injected CSS.\n    const jssStyles = document.querySelector('#jss-server-side');\n    if (jssStyles) {\n      jssStyles.parentElement.removeChild(jssStyles);\n    }\n  }, []);\n\n  const changeTheme = (dark) => {\n    // setThemeConfig(dark ? darkTheme : lightTheme);\n    // localStorage.setItem('yearn.finance-dark-mode', dark ? 'dark' : 'light');\n  };\n\n  const accountConfigureReturned = () => {\n    setAccountConfigured(true);\n  };\n\n  const stalbeSwapConfigureReturned = () => {\n    setStableSwapConfigured(true);\n  };\n\n  useEffect(function () {\n    const localStorageDarkMode = window.localStorage.getItem('yearn.finance-dark-mode');\n    changeTheme(localStorageDarkMode ? localStorageDarkMode === 'dark' : false);\n  }, []);\n\n  useEffect(function () {\n    stores.emitter.on(ACTIONS.CONFIGURED_SS, stalbeSwapConfigureReturned);\n    stores.emitter.on(ACTIONS.ACCOUNT_CONFIGURED, accountConfigureReturned);\n\n    stores.dispatcher.dispatch({ type: ACTIONS.CONFIGURE });\n\n    return () => {\n      stores.emitter.removeListener(ACTIONS.CONFIGURED_SS, stalbeSwapConfigureReturned);\n      stores.emitter.removeListener(ACTIONS.ACCOUNT_CONFIGURED, accountConfigureReturned);\n    };\n  }, []);\n\n  const validateConfigured = () => {\n    switch (router.pathname) {\n      case '/':\n        return accountConfigured;\n      default:\n        return accountConfigured;\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <Head>\n        <title>Solidly</title>\n        <meta name=\"viewport\" content=\"minimum-scale=1, initial-scale=1, width=device-width\" />\n      </Head>\n      <ThemeProvider theme={themeConfig}>\n        {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\n        <CssBaseline />\n        { validateConfigured() && (\n          <Layout changeTheme={changeTheme}>\n            <Component {...pageProps} changeTheme={changeTheme} />\n          </Layout>\n        )}\n        {!validateConfigured() && <Configure {...pageProps} />}\n      </ThemeProvider>\n    </React.Fragment>\n  );\n}\n\nMyApp.propTypes = {\n  Component: PropTypes.elementType.isRequired,\n  pageProps: PropTypes.object.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}