{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _classCallCheck from \"/Users/pierremarieriviere/Code/solidly-master/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pierremarieriviere/Code/solidly-master/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/pierremarieriviere/Code/solidly-master/node_modules/next/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/pierremarieriviere/Code/solidly-master/node_modules/next/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/pierremarieriviere/Code/solidly-master/node_modules/next/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pierremarieriviere/Code/solidly-master/node_modules/next/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/Users/pierremarieriviere/Code/solidly-master/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/pierremarieriviere/Code/solidly-master/components/snackbar/snackbarController.jsx\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Snackbar from \"./snackbar.jsx\";\nimport { ACTIONS } from '../../stores/constants';\nimport stores from \"../../stores\";\nvar emitter = stores.emitter;\n\nvar styles = function styles(theme) {\n  return {\n    root: {}\n  };\n};\n\nvar SnackbarController = /*#__PURE__*/function (_Component) {\n  _inherits(SnackbarController, _Component);\n\n  var _super = _createSuper(SnackbarController);\n\n  function SnackbarController(props) {\n    var _this;\n\n    _classCallCheck(this, SnackbarController);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"showError\", function (error) {\n      var snackbarObj = {\n        snackbarMessage: null,\n        snackbarType: null,\n        open: false\n      };\n\n      _this.setState(snackbarObj);\n\n      var that = _assertThisInitialized(_this);\n\n      setTimeout(function () {\n        var snackbarObj = {\n          snackbarMessage: error.toString(),\n          snackbarType: \"Error\",\n          open: true\n        };\n        that.setState(snackbarObj);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showHash\", function (_ref) {\n      var txHash = _ref.txHash;\n      var snackbarObj = {\n        snackbarMessage: null,\n        snackbarType: null,\n        open: false\n      };\n\n      _this.setState(snackbarObj);\n\n      var that = _assertThisInitialized(_this);\n\n      setTimeout(function () {\n        var snackbarObj = {\n          snackbarMessage: txHash,\n          snackbarType: \"Hash\",\n          open: true\n        };\n        that.setState(snackbarObj);\n      });\n    });\n\n    _this.state = {\n      open: false,\n      snackbarType: null,\n      snackbarMessage: null\n    };\n    return _this;\n  }\n\n  _createClass(SnackbarController, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      emitter.on(ACTIONS.ERROR, this.showError); // emitter.on(ACTIONS.TX_SUBMITTED, this.showHash);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      emitter.removeListener(ACTIONS.ERROR, this.showError); // emitter.removeListener(ACTIONS.TX_SUBMITTED, this.showHash);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          snackbarType = _this$state.snackbarType,\n          snackbarMessage = _this$state.snackbarMessage,\n          open = _this$state.open;\n\n      if (open) {\n        return /*#__PURE__*/_jsxDEV(Snackbar, {\n          type: snackbarType,\n          message: snackbarMessage,\n          open: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 14\n        }, this);\n      }\n    }\n  }]);\n\n  return SnackbarController;\n}(Component);\n\nexport default withStyles(styles)(SnackbarController);","map":{"version":3,"sources":["/Users/pierremarieriviere/Code/solidly-master/components/snackbar/snackbarController.jsx"],"names":["React","Component","withStyles","Snackbar","ACTIONS","stores","emitter","styles","theme","root","SnackbarController","props","error","snackbarObj","snackbarMessage","snackbarType","open","setState","that","setTimeout","toString","txHash","state","on","ERROR","showError","removeListener"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,0BAA3B;AAEA,OAAOC,QAAP,MAAqB,gBAArB;AAEA,SAASC,OAAT,QAAwB,wBAAxB;AAEA,OAAOC,MAAP,MAAmB,cAAnB;AACA,IAAMC,OAAO,GAAGD,MAAM,CAACC,OAAvB;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK;AAAA,SAAK;AACvBC,IAAAA,IAAI,EAAE;AADiB,GAAL;AAAA,CAApB;;IAIMC,kB;;;;;AACJ,8BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB;;AADiB,gEAoBP,UAAAC,KAAK,EAAI;AACnB,UAAMC,WAAW,GAAG;AAClBC,QAAAA,eAAe,EAAE,IADC;AAElBC,QAAAA,YAAY,EAAE,IAFI;AAGlBC,QAAAA,IAAI,EAAE;AAHY,OAApB;;AAKA,YAAKC,QAAL,CAAcJ,WAAd;;AAEA,UAAMK,IAAI,gCAAV;;AACAC,MAAAA,UAAU,CAAC,YAAM;AACf,YAAMN,WAAW,GAAG;AAClBC,UAAAA,eAAe,EAAEF,KAAK,CAACQ,QAAN,EADC;AAElBL,UAAAA,YAAY,EAAE,OAFI;AAGlBC,UAAAA,IAAI,EAAE;AAHY,SAApB;AAKAE,QAAAA,IAAI,CAACD,QAAL,CAAcJ,WAAd;AACD,OAPS,CAAV;AAQD,KArCkB;;AAAA,+DAuCR,gBAAgB;AAAA,UAAbQ,MAAa,QAAbA,MAAa;AACzB,UAAMR,WAAW,GAAG;AAClBC,QAAAA,eAAe,EAAE,IADC;AAElBC,QAAAA,YAAY,EAAE,IAFI;AAGlBC,QAAAA,IAAI,EAAE;AAHY,OAApB;;AAKA,YAAKC,QAAL,CAAcJ,WAAd;;AAEA,UAAMK,IAAI,gCAAV;;AACAC,MAAAA,UAAU,CAAC,YAAM;AACf,YAAMN,WAAW,GAAG;AAClBC,UAAAA,eAAe,EAAEO,MADC;AAElBN,UAAAA,YAAY,EAAE,MAFI;AAGlBC,UAAAA,IAAI,EAAE;AAHY,SAApB;AAKAE,QAAAA,IAAI,CAACD,QAAL,CAAcJ,WAAd;AACD,OAPS,CAAV;AAQD,KAxDkB;;AAGjB,UAAKS,KAAL,GAAa;AACXN,MAAAA,IAAI,EAAE,KADK;AAEXD,MAAAA,YAAY,EAAE,IAFH;AAGXD,MAAAA,eAAe,EAAE;AAHN,KAAb;AAHiB;AAQlB;;;;yCAEoB;AACnBR,MAAAA,OAAO,CAACiB,EAAR,CAAWnB,OAAO,CAACoB,KAAnB,EAA0B,KAAKC,SAA/B,EADmB,CAEnB;AACD;;;2CAEsB;AACrBnB,MAAAA,OAAO,CAACoB,cAAR,CAAuBtB,OAAO,CAACoB,KAA/B,EAAsC,KAAKC,SAA3C,EADqB,CAErB;AACD;;;6BAwCQ;AAAA,wBACyC,KAAKH,KAD9C;AAAA,UACCP,YADD,eACCA,YADD;AAAA,UACeD,eADf,eACeA,eADf;AAAA,UACgCE,IADhC,eACgCA,IADhC;;AAGP,UAAIA,IAAJ,EAAU;AACR,4BACE,QAAC,QAAD;AAAU,UAAA,IAAI,EAAED,YAAhB;AAA8B,UAAA,OAAO,EAAED,eAAvC;AAAwD,UAAA,IAAI,EAAE;AAA9D;AAAA;AAAA;AAAA;AAAA,gBADF;AAGD,OAJD,MAIO;AACL,4BAAO;AAAA;AAAA;AAAA;AAAA,gBAAP;AACD;AACF;;;;EArE8Bb,S;;AAwEjC,eAAeC,UAAU,CAACK,MAAD,CAAV,CAAmBG,kBAAnB,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nimport Snackbar from \"./snackbar.jsx\";\n\nimport { ACTIONS } from '../../stores/constants';\n\nimport stores from \"../../stores\";\nconst emitter = stores.emitter;\n\nconst styles = theme => ({\n  root: {}\n});\n\nclass SnackbarController extends Component {\n  constructor(props) {\n    super();\n\n    this.state = {\n      open: false,\n      snackbarType: null,\n      snackbarMessage: null\n    };\n  }\n\n  componentWillMount() {\n    emitter.on(ACTIONS.ERROR, this.showError);\n    // emitter.on(ACTIONS.TX_SUBMITTED, this.showHash);\n  }\n\n  componentWillUnmount() {\n    emitter.removeListener(ACTIONS.ERROR, this.showError);\n    // emitter.removeListener(ACTIONS.TX_SUBMITTED, this.showHash);\n  }\n\n  showError = error => {\n    const snackbarObj = {\n      snackbarMessage: null,\n      snackbarType: null,\n      open: false\n    };\n    this.setState(snackbarObj);\n\n    const that = this;\n    setTimeout(() => {\n      const snackbarObj = {\n        snackbarMessage: error.toString(),\n        snackbarType: \"Error\",\n        open: true\n      };\n      that.setState(snackbarObj);\n    });\n  };\n\n  showHash = ({ txHash }) => {\n    const snackbarObj = {\n      snackbarMessage: null,\n      snackbarType: null,\n      open: false\n    };\n    this.setState(snackbarObj);\n\n    const that = this;\n    setTimeout(() => {\n      const snackbarObj = {\n        snackbarMessage: txHash,\n        snackbarType: \"Hash\",\n        open: true\n      };\n      that.setState(snackbarObj);\n    });\n  };\n\n  render() {\n    const { snackbarType, snackbarMessage, open } = this.state;\n\n    if (open) {\n      return (\n        <Snackbar type={snackbarType} message={snackbarMessage} open={true} />\n      );\n    } else {\n      return <div></div>;\n    }\n  }\n}\n\nexport default withStyles(styles)(SnackbarController);\n"]},"metadata":{},"sourceType":"module"}