{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/pierremarieriviere/Code/solidly-master/components/ssVests/ssVests.js\";\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Paper } from '@material-ui/core';\nimport classes from './ssVests.module.css';\nimport VestsTable from './ssVestsTable.js';\nimport stores from '../../stores';\nimport { ACTIONS } from '../../stores/constants';\nexport default function ssVests() {\n  const {\n    1: updateState\n  } = useState();\n  const forceUpdate = useCallback(() => updateState({}), []);\n  const {\n    0: vestNFTs,\n    1: setVestNFTs\n  } = useState([]);\n  const {\n    0: govToken,\n    1: setGovToken\n  } = useState(null);\n  const {\n    0: veToken,\n    1: setVeToken\n  } = useState(null);\n  useEffect(() => {\n    const ssUpdated = async () => {\n      setGovToken(stores.stableSwapStore.getStore(\"govToken\"));\n      setVeToken(stores.stableSwapStore.getStore(\"veToken\"));\n    };\n\n    ssUpdated();\n    stores.emitter.on(ACTIONS.UPDATED, ssUpdated);\n    return () => {\n      stores.emitter.removeListener(ACTIONS.UPDATED, ssUpdated);\n    };\n  }, []);\n  useEffect(() => {\n    const vestNFTsReturned = nfts => {\n      setVestNFTs(nfts);\n      forceUpdate();\n    };\n\n    window.setTimeout(() => {\n      stores.dispatcher.dispatch({\n        type: ACTIONS.GET_VEST_NFTS,\n        content: {}\n      });\n    }, 1);\n    stores.emitter.on(ACTIONS.VEST_NFTS_RETURNED, vestNFTsReturned);\n    return () => {\n      stores.emitter.removeListener(ACTIONS.VEST_NFTS_RETURNED, vestNFTsReturned);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.container,\n    children: /*#__PURE__*/_jsxDEV(VestsTable, {\n      vestNFTs: vestNFTs,\n      govToken: govToken,\n      veToken: veToken\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["/Users/pierremarieriviere/Code/solidly-master/components/ssVests/ssVests.js"],"names":["React","useState","useEffect","useCallback","Paper","classes","VestsTable","stores","ACTIONS","ssVests","updateState","forceUpdate","vestNFTs","setVestNFTs","govToken","setGovToken","veToken","setVeToken","ssUpdated","stableSwapStore","getStore","emitter","on","UPDATED","removeListener","vestNFTsReturned","nfts","window","setTimeout","dispatcher","dispatch","type","GET_VEST_NFTS","content","VEST_NFTS_RETURNED","container"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,WAArC,QAAwD,OAAxD;AACA,SAASC,KAAT,QAAsB,mBAAtB;AAEA,OAAOC,OAAP,MAAoB,sBAApB;AAEA,OAAOC,UAAP,MAAuB,mBAAvB;AAEA,OAAOC,MAAP,MAAmB,cAAnB;AACA,SAASC,OAAT,QAAwB,wBAAxB;AAEA,eAAe,SAASC,OAAT,GAAmB;AAEhC,QAAM;AAAA,OAAGC;AAAH,MAAkBT,QAAQ,EAAhC;AACA,QAAMU,WAAW,GAAGR,WAAW,CAAC,MAAMO,WAAW,CAAC,EAAD,CAAlB,EAAwB,EAAxB,CAA/B;AAEA,QAAM;AAAA,OAACE,QAAD;AAAA,OAAWC;AAAX,MAA0BZ,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM;AAAA,OAACa,QAAD;AAAA,OAAWC;AAAX,MAA0Bd,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM;AAAA,OAACe,OAAD;AAAA,OAAUC;AAAV,MAAwBhB,QAAQ,CAAC,IAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMgB,SAAS,GAAG,YAAY;AAC5BH,MAAAA,WAAW,CAACR,MAAM,CAACY,eAAP,CAAuBC,QAAvB,CAAgC,UAAhC,CAAD,CAAX;AACAH,MAAAA,UAAU,CAACV,MAAM,CAACY,eAAP,CAAuBC,QAAvB,CAAgC,SAAhC,CAAD,CAAV;AACD,KAHD;;AAKAF,IAAAA,SAAS;AAETX,IAAAA,MAAM,CAACc,OAAP,CAAeC,EAAf,CAAkBd,OAAO,CAACe,OAA1B,EAAmCL,SAAnC;AACA,WAAO,MAAM;AACXX,MAAAA,MAAM,CAACc,OAAP,CAAeG,cAAf,CAA8BhB,OAAO,CAACe,OAAtC,EAA+CL,SAA/C;AACD,KAFD;AAGD,GAZQ,EAYN,EAZM,CAAT;AAcAhB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMuB,gBAAgB,GAAIC,IAAD,IAAU;AACjCb,MAAAA,WAAW,CAACa,IAAD,CAAX;AACAf,MAAAA,WAAW;AACZ,KAHD;;AAKAgB,IAAAA,MAAM,CAACC,UAAP,CAAkB,MAAM;AACtBrB,MAAAA,MAAM,CAACsB,UAAP,CAAkBC,QAAlB,CAA2B;AAAEC,QAAAA,IAAI,EAAEvB,OAAO,CAACwB,aAAhB;AAA+BC,QAAAA,OAAO,EAAE;AAAxC,OAA3B;AACD,KAFD,EAEG,CAFH;AAIA1B,IAAAA,MAAM,CAACc,OAAP,CAAeC,EAAf,CAAkBd,OAAO,CAAC0B,kBAA1B,EAA8CT,gBAA9C;AACA,WAAO,MAAM;AACXlB,MAAAA,MAAM,CAACc,OAAP,CAAeG,cAAf,CAA8BhB,OAAO,CAAC0B,kBAAtC,EAA0DT,gBAA1D;AACD,KAFD;AAGD,GAdQ,EAcN,EAdM,CAAT;AAgBA,sBACE;AAAK,IAAA,SAAS,EAAGpB,OAAO,CAAC8B,SAAzB;AAAA,2BACE,QAAC,UAAD;AAAY,MAAA,QAAQ,EAAEvB,QAAtB;AAAgC,MAAA,QAAQ,EAAGE,QAA3C;AAAsD,MAAA,OAAO,EAAGE;AAAhE;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAKD","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Paper } from '@material-ui/core';\n\nimport classes from './ssVests.module.css';\n\nimport VestsTable from './ssVestsTable.js'\n\nimport stores from '../../stores'\nimport { ACTIONS } from '../../stores/constants';\n\nexport default function ssVests() {\n\n  const [, updateState] = useState();\n  const forceUpdate = useCallback(() => updateState({}), []);\n\n  const [vestNFTs, setVestNFTs] = useState([])\n  const [govToken, setGovToken] = useState(null);\n  const [veToken, setVeToken] = useState(null);\n\n  useEffect(() => {\n    const ssUpdated = async () => {\n      setGovToken(stores.stableSwapStore.getStore(\"govToken\"));\n      setVeToken(stores.stableSwapStore.getStore(\"veToken\"));\n    };\n\n    ssUpdated()\n\n    stores.emitter.on(ACTIONS.UPDATED, ssUpdated);\n    return () => {\n      stores.emitter.removeListener(ACTIONS.UPDATED, ssUpdated);\n    };\n  }, []);\n\n  useEffect(() => {\n    const vestNFTsReturned = (nfts) => {\n      setVestNFTs(nfts)\n      forceUpdate()\n    }\n\n    window.setTimeout(() => {\n      stores.dispatcher.dispatch({ type: ACTIONS.GET_VEST_NFTS, content: {} })\n    }, 1)\n\n    stores.emitter.on(ACTIONS.VEST_NFTS_RETURNED, vestNFTsReturned)\n    return () => {\n      stores.emitter.removeListener(ACTIONS.VEST_NFTS_RETURNED, vestNFTsReturned)\n    };\n  }, []);\n\n  return (\n    <div className={ classes.container}>\n      <VestsTable vestNFTs={vestNFTs} govToken={ govToken } veToken={ veToken } />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}