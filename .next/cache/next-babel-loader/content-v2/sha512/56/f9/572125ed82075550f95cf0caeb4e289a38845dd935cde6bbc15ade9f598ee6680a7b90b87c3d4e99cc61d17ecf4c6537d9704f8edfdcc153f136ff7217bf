{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/pierremarieriviere/Code/solidly-master/components/unlock/unlock.js\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Typography, Button, CircularProgress } from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { Web3ReactProvider, useWeb3React } from \"@web3-react/core\";\nimport { Web3Provider } from \"@ethersproject/providers\";\nimport { ACTIONS } from '../../stores/constants';\nconst {\n  ERROR,\n  CONNECTION_DISCONNECTED,\n  CONNECTION_CONNECTED,\n  CONFIGURE_SS\n} = ACTIONS;\nimport stores from \"../../stores\";\n\nconst styles = theme => ({\n  root: {\n    flex: 1,\n    height: \"auto\",\n    display: \"flex\",\n    position: \"relative\"\n  },\n  contentContainer: {\n    margin: \"auto\",\n    textAlign: \"center\",\n    padding: \"12px\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    '@media (max-width: 960px)': {\n      paddingTop: '160px'\n    }\n  },\n  cardContainer: {\n    marginTop: \"60px\",\n    minHeight: \"260px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n    alignItems: \"center\"\n  },\n  unlockCard: {\n    padding: \"24px\"\n  },\n  buttonText: {\n    marginLeft: \"12px\",\n    fontWeight: \"700\"\n  },\n  instruction: {\n    maxWidth: \"400px\",\n    marginBottom: \"32px\",\n    marginTop: \"32px\"\n  },\n  actionButton: {\n    padding: \"12px\",\n    backgroundColor: \"white\",\n    borderRadius: \"3rem\",\n    border: \"1px solid #E1E1E1\",\n    fontWeight: 500,\n    [theme.breakpoints.up(\"md\")]: {\n      padding: \"15px\"\n    }\n  },\n  connect: {\n    width: \"100%\"\n  },\n  closeIcon: {\n    position: \"absolute\",\n    right: \"-8px\",\n    top: \"-8px\",\n    cursor: \"pointer\"\n  }\n});\n\nclass Unlock extends Component {\n  constructor(props) {\n    super();\n\n    _defineProperty(this, \"error\", err => {\n      this.setState({\n        loading: false,\n        error: err\n      });\n    });\n\n    _defineProperty(this, \"connectionConnected\", () => {\n      stores.dispatcher.dispatch({\n        type: CONFIGURE_SS,\n        content: {\n          connected: true\n        }\n      });\n\n      if (this.props.closeModal != null) {\n        this.props.closeModal();\n      }\n    });\n\n    _defineProperty(this, \"connectionDisconnected\", () => {\n      stores.dispatcher.dispatch({\n        type: CONFIGURE_SS,\n        content: {\n          connected: false\n        }\n      });\n\n      if (this.props.closeModal != null) {\n        this.props.closeModal();\n      }\n    });\n\n    this.state = {\n      loading: false,\n      error: null\n    };\n  }\n\n  componentWillMount() {\n    stores.emitter.on(CONNECTION_CONNECTED, this.connectionConnected);\n    stores.emitter.on(CONNECTION_DISCONNECTED, this.connectionDisconnected);\n    stores.emitter.on(ERROR, this.error);\n  }\n\n  componentWillUnmount() {\n    stores.emitter.removeListener(CONNECTION_CONNECTED, this.connectionConnected);\n    stores.emitter.removeListener(CONNECTION_DISCONNECTED, this.connectionDisconnected);\n    stores.emitter.removeListener(ERROR, this.error);\n  }\n\n  render() {\n    const {\n      classes,\n      closeModal\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.closeIcon,\n        onClick: closeModal,\n        children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.contentContainer,\n        children: /*#__PURE__*/_jsxDEV(Web3ReactProvider, {\n          getLibrary: getLibrary,\n          children: /*#__PURE__*/_jsxDEV(MyComponent, {\n            closeModal: closeModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nfunction getLibrary(provider) {\n  const library = new Web3Provider(provider);\n  library.pollingInterval = 8000;\n  return library;\n}\n\nfunction onConnectionClicked(currentConnector, name, setActivatingConnector, activate) {\n  const connectorsByName = stores.accountStore.getStore(\"connectorsByName\");\n  setActivatingConnector(currentConnector);\n  activate(connectorsByName[name]);\n}\n\nfunction onDeactivateClicked(deactivate, connector) {\n  if (deactivate) {\n    deactivate();\n  }\n\n  if (connector && connector.close) {\n    connector.close();\n  }\n\n  stores.accountStore.setStore({\n    account: {},\n    web3context: null\n  });\n  stores.emitter.emit(CONNECTION_DISCONNECTED);\n}\n\nfunction MyComponent(props) {\n  const context = useWeb3React();\n  const localContext = stores.accountStore.getStore(\"web3context\");\n  var localConnector = null;\n\n  if (localContext) {\n    localConnector = localContext.connector;\n  }\n\n  const {\n    connector,\n    library,\n    account,\n    activate,\n    deactivate,\n    active,\n    error\n  } = context;\n  var connectorsByName = stores.accountStore.getStore(\"connectorsByName\");\n  const {\n    closeModal\n  } = props;\n  const [activatingConnector, setActivatingConnector] = React.useState();\n  React.useEffect(() => {\n    if (activatingConnector && activatingConnector === connector) {\n      setActivatingConnector(undefined);\n    }\n  }, [activatingConnector, connector]);\n  React.useEffect(() => {\n    if (account && active && library) {\n      stores.accountStore.setStore({\n        account: {\n          address: account\n        },\n        web3context: context\n      });\n      stores.emitter.emit(CONNECTION_CONNECTED);\n      stores.emitter.emit(ACTIONS.ACCOUNT_CONFIGURED);\n    }\n  }, [account, active, closeModal, context, library]);\n  const width = window.innerWidth;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexWrap: \"wrap\",\n      justifyContent: width > 576 ? \"space-between\" : \"center\",\n      alignItems: \"center\"\n    },\n    children: Object.keys(connectorsByName).map(name => {\n      const currentConnector = connectorsByName[name];\n      const activating = currentConnector === activatingConnector;\n      const connected = currentConnector === connector || currentConnector === localConnector;\n      const disabled = !!activatingConnector || !!error;\n      let url;\n      let display = name;\n      let descriptor = \"\";\n\n      if (name === \"MetaMask\") {\n        url = \"/connectors/icn-metamask.svg\";\n        descriptor = \"Connect to your MetaMask wallet\";\n      } else if (name === \"WalletConnect\") {\n        url = \"/connectors/walletConnectIcon.svg\";\n        descriptor = \"Scan with WalletConnect to connect\";\n      } else if (name === \"TrustWallet\") {\n        url = \"/connectors/trustWallet.png\";\n        descriptor = \"Connect to your TrustWallet\";\n      } else if (name === \"Portis\") {\n        url = \"/connectors/portisIcon.png\";\n        descriptor = \"Connect with your Portis account\";\n      } else if (name === \"Fortmatic\") {\n        url = \"/connectors/fortmaticIcon.png\";\n        descriptor = \"Connect with your Fortmatic account\";\n      } else if (name === \"Ledger\") {\n        url = \"/connectors/icn-ledger.svg\";\n        descriptor = \"Connect with your Ledger Device\";\n      } else if (name === \"Squarelink\") {\n        url = \"/connectors/squarelink.png\";\n        descriptor = \"Connect with your Squarelink account\";\n      } else if (name === \"Trezor\") {\n        url = \"/connectors/trezor.png\";\n        descriptor = \"Connect with your Trezor Device\";\n      } else if (name === \"Torus\") {\n        url = \"/connectors/torus.jpg\";\n        descriptor = \"Connect with your Torus account\";\n      } else if (name === \"Authereum\") {\n        url = \"/connectors/icn-aethereum.svg\";\n        descriptor = \"Connect with your Authereum account\";\n      } else if (name === \"WalletLink\") {\n        display = \"Coinbase Wallet\";\n        url = \"/connectors/coinbaseWalletIcon.svg\";\n        descriptor = \"Connect to your Coinbase wallet\";\n      } else if (name === \"Frame\") {\n        return \"\";\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"0px\",\n          display: \"flex\",\n          margin: width > 576 ? \"12px 0px\" : \"0px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            width: width > 576 ? \"350px\" : \"calc(100vw - 100px)\",\n            height: \"200px\",\n            backgroundColor: \"rgba(0,0,0,0.05)\",\n            border: \"1px solid rgba(108,108,123,0.2)\",\n            color: \"rgba(108,108,123,1)\"\n          },\n          variant: \"contained\",\n          onClick: () => {\n            onConnectionClicked(currentConnector, name, setActivatingConnector, activate);\n          },\n          disableElevation: true,\n          color: \"secondary\",\n          disabled: disabled,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              height: \"160px\",\n              width: \"100%\",\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n              justifyContent: \"space-evenly\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              style: {\n                width: \"60px\",\n                height: \"60px\"\n              },\n              src: url,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              style: {\n                color: \"#FFFFFF\",\n                marginBottom: \"-15px\"\n              },\n              variant: \"h2\",\n              children: display\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              style: {\n                color: \"#ada597\"\n              },\n              variant: \"body2\",\n              children: descriptor\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 17\n            }, this), activating && /*#__PURE__*/_jsxDEV(CircularProgress, {\n              size: 15,\n              style: {\n                marginRight: \"10px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 19\n            }, this), !activating && connected && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: \"#ffb405\",\n                borderRadius: \"10px\",\n                width: \"10px\",\n                height: \"10px\",\n                marginRight: \"0px\",\n                position: \"absolute\",\n                top: \"15px\",\n                right: \"15px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this)\n      }, name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 5\n  }, this);\n}\n\nexport default withStyles(styles)(Unlock);","map":{"version":3,"sources":["/Users/pierremarieriviere/Code/solidly-master/components/unlock/unlock.js"],"names":["React","Component","withStyles","Typography","Button","CircularProgress","CloseIcon","Web3ReactProvider","useWeb3React","Web3Provider","ACTIONS","ERROR","CONNECTION_DISCONNECTED","CONNECTION_CONNECTED","CONFIGURE_SS","stores","styles","theme","root","flex","height","display","position","contentContainer","margin","textAlign","padding","flexWrap","paddingTop","cardContainer","marginTop","minHeight","flexDirection","justifyContent","alignItems","unlockCard","buttonText","marginLeft","fontWeight","instruction","maxWidth","marginBottom","actionButton","backgroundColor","borderRadius","border","breakpoints","up","connect","width","closeIcon","right","top","cursor","Unlock","constructor","props","err","setState","loading","error","dispatcher","dispatch","type","content","connected","closeModal","state","componentWillMount","emitter","on","connectionConnected","connectionDisconnected","componentWillUnmount","removeListener","render","classes","getLibrary","provider","library","pollingInterval","onConnectionClicked","currentConnector","name","setActivatingConnector","activate","connectorsByName","accountStore","getStore","onDeactivateClicked","deactivate","connector","close","setStore","account","web3context","emit","MyComponent","context","localContext","localConnector","active","activatingConnector","useState","useEffect","undefined","address","ACCOUNT_CONFIGURED","window","innerWidth","Object","keys","map","activating","disabled","url","descriptor","color","marginRight","background"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Typography, Button, CircularProgress } from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nimport { Web3ReactProvider, useWeb3React } from \"@web3-react/core\";\nimport { Web3Provider } from \"@ethersproject/providers\";\n\nimport { ACTIONS } from '../../stores/constants';\nconst {\n  ERROR,\n  CONNECTION_DISCONNECTED,\n  CONNECTION_CONNECTED,\n  CONFIGURE_SS\n} = ACTIONS\n\nimport stores from \"../../stores\";\n\nconst styles = theme => ({\n  root: {\n    flex: 1,\n    height: \"auto\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n  contentContainer: {\n    margin: \"auto\",\n    textAlign: \"center\",\n    padding: \"12px\",\n    display: \"flex\",\n    flexWrap: \"wrap\",\n\n    '@media (max-width: 960px)': {\n        paddingTop: '160px',\n      },\n  },\n  cardContainer: {\n    marginTop: \"60px\",\n    minHeight: \"260px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n    alignItems: \"center\",\n  },\n  unlockCard: {\n    padding: \"24px\",\n  },\n  buttonText: {\n    marginLeft: \"12px\",\n    fontWeight: \"700\"\n  },\n  instruction: {\n    maxWidth: \"400px\",\n    marginBottom: \"32px\",\n    marginTop: \"32px\"\n  },\n  actionButton: {\n    padding: \"12px\",\n    backgroundColor: \"white\",\n    borderRadius: \"3rem\",\n    border: \"1px solid #E1E1E1\",\n    fontWeight: 500,\n    [theme.breakpoints.up(\"md\")]: {\n      padding: \"15px\"\n    }\n  },\n  connect: {\n    width: \"100%\"\n  },\n  closeIcon: {\n    position: \"absolute\",\n    right: \"-8px\",\n    top: \"-8px\",\n    cursor: \"pointer\"\n  }\n});\n\nclass Unlock extends Component {\n  constructor(props) {\n    super();\n\n    this.state = {\n      loading: false,\n      error: null\n    };\n  }\n\n  componentWillMount() {\n    stores.emitter.on(CONNECTION_CONNECTED, this.connectionConnected);\n    stores.emitter.on(CONNECTION_DISCONNECTED, this.connectionDisconnected);\n    stores.emitter.on(ERROR, this.error);\n  }\n\n  componentWillUnmount() {\n    stores.emitter.removeListener(\n      CONNECTION_CONNECTED,\n      this.connectionConnected\n    );\n    stores.emitter.removeListener(\n      CONNECTION_DISCONNECTED,\n      this.connectionDisconnected\n    );\n    stores.emitter.removeListener(ERROR, this.error);\n  }\n\n  error = err => {\n    this.setState({ loading: false, error: err });\n  };\n\n  connectionConnected = () => {\n    stores.dispatcher.dispatch({\n      type: CONFIGURE_SS,\n      content: { connected: true }\n    });\n\n    if (this.props.closeModal != null) {\n      this.props.closeModal();\n    }\n  };\n\n  connectionDisconnected = () => {\n    stores.dispatcher.dispatch({\n      type: CONFIGURE_SS,\n      content: { connected: false}\n    });\n    if (this.props.closeModal != null) {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    const { classes, closeModal } = this.props;\n\n    return (\n      <div className={classes.root}>\n        <div className={classes.closeIcon} onClick={closeModal}>\n          <CloseIcon />\n        </div>\n        <div className={classes.contentContainer}>\n          <Web3ReactProvider getLibrary={getLibrary}>\n            <MyComponent closeModal={closeModal} />\n          </Web3ReactProvider>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction getLibrary(provider) {\n  const library = new Web3Provider(provider);\n  library.pollingInterval = 8000;\n  return library;\n}\n\nfunction onConnectionClicked(\n  currentConnector,\n  name,\n  setActivatingConnector,\n  activate\n) {\n  const connectorsByName = stores.accountStore.getStore(\"connectorsByName\");\n  setActivatingConnector(currentConnector);\n  activate(connectorsByName[name]);\n}\n\nfunction onDeactivateClicked(deactivate, connector) {\n  if (deactivate) {\n    deactivate();\n  }\n  if (connector && connector.close) {\n    connector.close();\n  }\n  stores.accountStore.setStore({ account: {}, web3context: null });\n  stores.emitter.emit(CONNECTION_DISCONNECTED);\n}\n\nfunction MyComponent(props) {\n  const context = useWeb3React();\n  const localContext = stores.accountStore.getStore(\"web3context\");\n  var localConnector = null;\n  if (localContext) {\n    localConnector = localContext.connector;\n  }\n  const {\n    connector,\n    library,\n    account,\n    activate,\n    deactivate,\n    active,\n    error\n  } = context;\n  var connectorsByName = stores.accountStore.getStore(\"connectorsByName\");\n\n  const { closeModal } = props;\n\n  const [activatingConnector, setActivatingConnector] = React.useState();\n  React.useEffect(() => {\n    if (activatingConnector && activatingConnector === connector) {\n      setActivatingConnector(undefined);\n    }\n  }, [activatingConnector, connector]);\n\n  React.useEffect(() => {\n    if (account && active && library) {\n      stores.accountStore.setStore({\n        account: { address: account },\n        web3context: context\n      });\n      stores.emitter.emit(CONNECTION_CONNECTED);\n      stores.emitter.emit(ACTIONS.ACCOUNT_CONFIGURED);\n    }\n  }, [account, active, closeModal, context, library]);\n\n  const width = window.innerWidth;\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        justifyContent: width > 576 ? \"space-between\" : \"center\",\n        alignItems: \"center\"\n      }}\n    >\n      {Object.keys(connectorsByName).map(name => {\n        const currentConnector = connectorsByName[name];\n        const activating = currentConnector === activatingConnector;\n        const connected =\n          currentConnector === connector || currentConnector === localConnector;\n        const disabled = !!activatingConnector || !!error;\n\n        let url;\n        let display = name;\n        let descriptor = \"\";\n        if (name === \"MetaMask\") {\n          url = \"/connectors/icn-metamask.svg\";\n          descriptor = \"Connect to your MetaMask wallet\";\n        } else if (name === \"WalletConnect\") {\n          url = \"/connectors/walletConnectIcon.svg\";\n          descriptor = \"Scan with WalletConnect to connect\";\n        } else if (name === \"TrustWallet\") {\n          url = \"/connectors/trustWallet.png\";\n          descriptor = \"Connect to your TrustWallet\";\n        } else if (name === \"Portis\") {\n          url = \"/connectors/portisIcon.png\";\n          descriptor = \"Connect with your Portis account\";\n        } else if (name === \"Fortmatic\") {\n          url = \"/connectors/fortmaticIcon.png\";\n          descriptor = \"Connect with your Fortmatic account\";\n        } else if (name === \"Ledger\") {\n          url = \"/connectors/icn-ledger.svg\";\n          descriptor = \"Connect with your Ledger Device\";\n        } else if (name === \"Squarelink\") {\n          url = \"/connectors/squarelink.png\";\n          descriptor = \"Connect with your Squarelink account\";\n        } else if (name === \"Trezor\") {\n          url = \"/connectors/trezor.png\";\n          descriptor = \"Connect with your Trezor Device\";\n        } else if (name === \"Torus\") {\n          url = \"/connectors/torus.jpg\";\n          descriptor = \"Connect with your Torus account\";\n        } else if (name === \"Authereum\") {\n          url = \"/connectors/icn-aethereum.svg\";\n          descriptor = \"Connect with your Authereum account\";\n        } else if (name === \"WalletLink\") {\n          display = \"Coinbase Wallet\";\n          url = \"/connectors/coinbaseWalletIcon.svg\";\n          descriptor = \"Connect to your Coinbase wallet\";\n        } else if (name === \"Frame\") {\n          return \"\";\n        }\n\n        return (\n          <div\n            key={name}\n            style={{\n              padding: \"0px\",\n              display: \"flex\",\n              margin: width > 576 ? \"12px 0px\" : \"0px\",\n            }}\n          >\n            <Button\n              style={{\n                width: width > 576 ? \"350px\" : \"calc(100vw - 100px)\",\n                height: \"200px\",\n                backgroundColor: \"rgba(0,0,0,0.05)\",\n                border: \"1px solid rgba(108,108,123,0.2)\",\n                color: \"rgba(108,108,123,1)\"\n              }}\n              variant=\"contained\"\n              onClick={() => {\n                onConnectionClicked(\n                  currentConnector,\n                  name,\n                  setActivatingConnector,\n                  activate\n                );\n              }}\n              disableElevation\n              color=\"secondary\"\n              disabled={disabled}\n            >\n              <div\n                style={{\n                  height: \"160px\",\n                  width: \"100%\",\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  alignItems: \"center\",\n                  justifyContent: \"space-evenly\"\n                }}\n              >\n                <img\n                  style={{\n                    width: \"60px\",\n                    height: \"60px\"\n                  }}\n                  src={url}\n                  alt=\"\"\n                />\n                <Typography style={{ color: \"#FFFFFF\", marginBottom: \"-15px\"}} variant={\"h2\"}>{display}</Typography>\n                <Typography style={{ color: \"#ada597\",}} variant={\"body2\"}>{descriptor}</Typography>\n                {activating && (\n                  <CircularProgress size={15} style={{ marginRight: \"10px\" }} />\n                )}\n                {!activating && connected && (\n                  <div\n                    style={{\n                      background: \"#ffb405\",\n                      borderRadius: \"10px\",\n                      width: \"10px\",\n                      height: \"10px\",\n                      marginRight: \"0px\",\n                      position: \"absolute\",\n                      top: \"15px\",\n                      right: \"15px\"\n                    }}\n                  ></div>\n                )}\n              </div>\n            </Button>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default withStyles(styles)(Unlock);\n"]},"metadata":{},"sourceType":"module"}