{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/pierremarieriviere/Code/solidly-master/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/pierremarieriviere/Code/solidly-master/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/pierremarieriviere/Code/solidly-master/components/ssVests/ssVests.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Paper } from '@material-ui/core';\nimport classes from './ssVests.module.css';\nimport VestsTable from './ssVestsTable.js';\nimport stores from '../../stores';\nimport { ACTIONS } from '../../stores/constants';\nexport default function ssVests() {\n  _s();\n\n  var _useState = useState(),\n      updateState = _useState[1];\n\n  var forceUpdate = useCallback(function () {\n    return updateState({});\n  }, []);\n\n  var _useState2 = useState([]),\n      vestNFTs = _useState2[0],\n      setVestNFTs = _useState2[1];\n\n  var _useState3 = useState(null),\n      govToken = _useState3[0],\n      setGovToken = _useState3[1];\n\n  var _useState4 = useState(null),\n      veToken = _useState4[0],\n      setVeToken = _useState4[1];\n\n  useEffect(function () {\n    var ssUpdated = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                setGovToken(stores.stableSwapStore.getStore(\"govToken\"));\n                setVeToken(stores.stableSwapStore.getStore(\"veToken\"));\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function ssUpdated() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    ssUpdated();\n    stores.emitter.on(ACTIONS.UPDATED, ssUpdated);\n    return function () {\n      stores.emitter.removeListener(ACTIONS.UPDATED, ssUpdated);\n    };\n  }, []);\n  useEffect(function () {\n    var vestNFTsReturned = function vestNFTsReturned(nfts) {\n      setVestNFTs(nfts);\n      forceUpdate();\n    };\n\n    window.setTimeout(function () {\n      stores.dispatcher.dispatch({\n        type: ACTIONS.GET_VEST_NFTS,\n        content: {}\n      });\n    }, 1);\n    stores.emitter.on(ACTIONS.VEST_NFTS_RETURNED, vestNFTsReturned);\n    return function () {\n      stores.emitter.removeListener(ACTIONS.VEST_NFTS_RETURNED, vestNFTsReturned);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.container,\n    children: /*#__PURE__*/_jsxDEV(VestsTable, {\n      vestNFTs: vestNFTs,\n      govToken: govToken,\n      veToken: veToken\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ssVests, \"qsQrgZYZxVESF5LmuI04BWmtjWA=\");","map":{"version":3,"sources":["/Users/pierremarieriviere/Code/solidly-master/components/ssVests/ssVests.js"],"names":["React","useState","useEffect","useCallback","Paper","classes","VestsTable","stores","ACTIONS","ssVests","updateState","forceUpdate","vestNFTs","setVestNFTs","govToken","setGovToken","veToken","setVeToken","ssUpdated","stableSwapStore","getStore","emitter","on","UPDATED","removeListener","vestNFTsReturned","nfts","window","setTimeout","dispatcher","dispatch","type","GET_VEST_NFTS","content","VEST_NFTS_RETURNED","container"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,WAArC,QAAwD,OAAxD;AACA,SAASC,KAAT,QAAsB,mBAAtB;AAEA,OAAOC,OAAP,MAAoB,sBAApB;AAEA,OAAOC,UAAP,MAAuB,mBAAvB;AAEA,OAAOC,MAAP,MAAmB,cAAnB;AACA,SAASC,OAAT,QAAwB,wBAAxB;AAEA,eAAe,SAASC,OAAT,GAAmB;AAAA;;AAAA,kBAERR,QAAQ,EAFA;AAAA,MAEvBS,WAFuB;;AAGhC,MAAMC,WAAW,GAAGR,WAAW,CAAC;AAAA,WAAMO,WAAW,CAAC,EAAD,CAAjB;AAAA,GAAD,EAAwB,EAAxB,CAA/B;;AAHgC,mBAKAT,QAAQ,CAAC,EAAD,CALR;AAAA,MAKzBW,QALyB;AAAA,MAKfC,WALe;;AAAA,mBAMAZ,QAAQ,CAAC,IAAD,CANR;AAAA,MAMzBa,QANyB;AAAA,MAMfC,WANe;;AAAA,mBAOFd,QAAQ,CAAC,IAAD,CAPN;AAAA,MAOzBe,OAPyB;AAAA,MAOhBC,UAPgB;;AAShCf,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMgB,SAAS;AAAA,0EAAG;AAAA;AAAA;AAAA;AAAA;AAChBH,gBAAAA,WAAW,CAACR,MAAM,CAACY,eAAP,CAAuBC,QAAvB,CAAgC,UAAhC,CAAD,CAAX;AACAH,gBAAAA,UAAU,CAACV,MAAM,CAACY,eAAP,CAAuBC,QAAvB,CAAgC,SAAhC,CAAD,CAAV;;AAFgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAATF,SAAS;AAAA;AAAA;AAAA,OAAf;;AAKAA,IAAAA,SAAS;AAETX,IAAAA,MAAM,CAACc,OAAP,CAAeC,EAAf,CAAkBd,OAAO,CAACe,OAA1B,EAAmCL,SAAnC;AACA,WAAO,YAAM;AACXX,MAAAA,MAAM,CAACc,OAAP,CAAeG,cAAf,CAA8BhB,OAAO,CAACe,OAAtC,EAA+CL,SAA/C;AACD,KAFD;AAGD,GAZQ,EAYN,EAZM,CAAT;AAcAhB,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMuB,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,IAAD,EAAU;AACjCb,MAAAA,WAAW,CAACa,IAAD,CAAX;AACAf,MAAAA,WAAW;AACZ,KAHD;;AAKAgB,IAAAA,MAAM,CAACC,UAAP,CAAkB,YAAM;AACtBrB,MAAAA,MAAM,CAACsB,UAAP,CAAkBC,QAAlB,CAA2B;AAAEC,QAAAA,IAAI,EAAEvB,OAAO,CAACwB,aAAhB;AAA+BC,QAAAA,OAAO,EAAE;AAAxC,OAA3B;AACD,KAFD,EAEG,CAFH;AAIA1B,IAAAA,MAAM,CAACc,OAAP,CAAeC,EAAf,CAAkBd,OAAO,CAAC0B,kBAA1B,EAA8CT,gBAA9C;AACA,WAAO,YAAM;AACXlB,MAAAA,MAAM,CAACc,OAAP,CAAeG,cAAf,CAA8BhB,OAAO,CAAC0B,kBAAtC,EAA0DT,gBAA1D;AACD,KAFD;AAGD,GAdQ,EAcN,EAdM,CAAT;AAgBA,sBACE;AAAK,IAAA,SAAS,EAAGpB,OAAO,CAAC8B,SAAzB;AAAA,2BACE,QAAC,UAAD;AAAY,MAAA,QAAQ,EAAEvB,QAAtB;AAAgC,MAAA,QAAQ,EAAGE,QAA3C;AAAsD,MAAA,OAAO,EAAGE;AAAhE;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GA5CuBP,O","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Paper } from '@material-ui/core';\n\nimport classes from './ssVests.module.css';\n\nimport VestsTable from './ssVestsTable.js'\n\nimport stores from '../../stores'\nimport { ACTIONS } from '../../stores/constants';\n\nexport default function ssVests() {\n\n  const [, updateState] = useState();\n  const forceUpdate = useCallback(() => updateState({}), []);\n\n  const [vestNFTs, setVestNFTs] = useState([])\n  const [govToken, setGovToken] = useState(null);\n  const [veToken, setVeToken] = useState(null);\n\n  useEffect(() => {\n    const ssUpdated = async () => {\n      setGovToken(stores.stableSwapStore.getStore(\"govToken\"));\n      setVeToken(stores.stableSwapStore.getStore(\"veToken\"));\n    };\n\n    ssUpdated()\n\n    stores.emitter.on(ACTIONS.UPDATED, ssUpdated);\n    return () => {\n      stores.emitter.removeListener(ACTIONS.UPDATED, ssUpdated);\n    };\n  }, []);\n\n  useEffect(() => {\n    const vestNFTsReturned = (nfts) => {\n      setVestNFTs(nfts)\n      forceUpdate()\n    }\n\n    window.setTimeout(() => {\n      stores.dispatcher.dispatch({ type: ACTIONS.GET_VEST_NFTS, content: {} })\n    }, 1)\n\n    stores.emitter.on(ACTIONS.VEST_NFTS_RETURNED, vestNFTsReturned)\n    return () => {\n      stores.emitter.removeListener(ACTIONS.VEST_NFTS_RETURNED, vestNFTsReturned)\n    };\n  }, []);\n\n  return (\n    <div className={ classes.container}>\n      <VestsTable vestNFTs={vestNFTs} govToken={ govToken } veToken={ veToken } />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}